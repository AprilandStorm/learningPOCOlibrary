# 一个月学习与实现路线图（4 周）
## 第1周：POCO 基础与环境搭建
- 目标：掌握 POCO 的基本模块 + 工程搭建

|内容|任务|输出|
|----|----|----|
|环境准备|安装 POCO（源码或 vcpkg）|能编译 poco_basic.cpp 示例|
|网络模块入门|熟悉 Poco::Net::HTTPServer、HTTPClientSession、WebSocket|写一个简单的 HTTP 服务器|
|工程组|CMake + POCO 工程结构|CMakeLists.txt 可编译多源文件项目|
|多线程模型|了解 Poco::Thread、Poco::ThreadPool、Poco::TaskManager|实现一个多线程日志打印 demo|

- 阶段成果：一个基础 demo：HTTP 服务器 + 多线程处理请求 + 日志输出。

### 第一周详细任务表

|天数|学习目标|内容概要|实际产出|
|----|----|----|----|
|Day 1|环境准备|安装 POCO（源码 / vcpkg / CMake FetchContent）并验证示例|可编译运行的 “Hello, POCO!” 程序|
|Day 2|理解 POCO 模块结构|熟悉 Foundation, Net, Util, JSON|用 Logger 输出信息到控制台|
|Day 3|HTTP Server 入门|用 Poco::Net::HTTPServer|启动一个 Web 服务|浏览器访问 http://localhost:8080|
|Day 4|多线程任务模型|使用 Poco::ThreadPool 处理多个请求|服务器可并发响应|
|Day 5|Logger + Config 集成|添加配置文件读取与日志输出|程序可从配置文件读取端口号|
|Day 6–7|项目整理与测试|整理工程结构，测试稳定性|项目骨架版本提交（MVP Ready）|

- day2  对POCO的核心模块结构有「使用级理解」，知道每个模块是做什么的、什么时候该用哪个模块，并能通过简单示例完成数据传递与日志输出。

|模块|功能简介|学习重点|
|----|----|----|
|Foundation|提供基础功能（线程、文件系统、日志、时间、配置、异常处理等）|熟悉类层次结构、常用工具类（Logger、Thread、File）|
|Util|管理配置、命令行参数、应用生命周期|了解 ServerApplication 与 Application 的作用|
|Net|HTTP/Socket/TCP/UDP 通信框架|理解 HTTPServer/ClientSession 的基本使用|
|JSON|处理JSON数据的序列化与解析|了解 Poco::JSON::Object、Parser 的用法|


|模块|功能简介|学习重点|
|----|----|----|
|Foundation|提供基础功能（线程、文件系统、日志、时间、配置、异常处理等）|熟悉类层次结构、常用工具类（Logger、Thread、File）
|Util|管理配置、命令行参数、应用生命周期|了解 ServerApplication 与 Application 的作用|
|Net|HTTP/Socket/TCP/UDP 通信框架|理解 HTTPServer/ClientSession 的基本使用|
|JSON|处理 JSON 数据的序列化与解析|了解 Poco::JSON::Object、Parser 的用法|

## 第2周：设备端与服务器端通信
- 目标：实现设备端数据上报 + 服务器端接收显示

内容|任务|输出|
|----|----|----|
|设备模拟|每个设备用一个线程运行|定时生成 JSON 数据（温度、电压等）|
|通信实现|使用WebSocket或HTTP POST上传|POCO Net::WebSocket 或 HTTPClientSession|
|服务器设计|解析JSON，打印或存入缓存|使用 Poco::JSON::Parser|
|数据结构|使用队列缓冲（生产者–消费者模型）|设备数据存入队列，主线程消费打印|

- 阶段成果：设备端每 2 秒上报一次数据，服务器端实时输出。

## 第3周：控制端与实时反馈
- 目标：实现控制端下发命令 + 设备端执行动作

|内容|任务|输出|
|----|----|----|
|控制命令设计|“开灯”“关灯”“设置阈值”等指令结构|统一 JSON 格式：{"cmd":"set","target":"device01","value":1}|
|服务器广播|服务端收到指令后转发给设备端|使用 WebSocket broadcast|
|设备响应|设备端接收指令后更改状态并上报|设备线程更新状态变量|
|多线程同步|用 Poco::Mutex 或 Poco::Condition 同步访问|安全修改设备状态|

- 阶段成果：控制端 → 服务器 → 设备 形成闭环，能远程控制设备。

## 第4周：系统完善与扩展
- 目标：提升工程质量，加入配置、日志、持久化、性能监控等

|内容|任务|输出|
|----|----|----|
|配置系统|使用 Poco::Util::IniFileConfiguration 管理参数|设备数、端口、日志级别可配置|
|日志系统|Poco::Logger 输出到文件|每个模块都有日志文件|
|数据存储|SQLite 或 Poco::Data 存历史数据|每次上报写入数据库|
|异常处理|捕获通信异常，断线重连|稳定运行 10+ 分钟不崩溃|
|性能调优|使用线程池优化|查看CPU占用、并发连接性能|

- 阶段成果：一个功能完善的小型 IoT 控制系统，代码结构工程化，可作为作品集项目展示。

- 
